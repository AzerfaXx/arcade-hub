<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Jeu de Voiture - ArcadeHub</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        .placeholder {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            background: rgba(0,0,0,0.7);
            font-family: var(--font-arcade);
            text-align: center;
        }
        .placeholder h2 { font-size: 2rem; color: var(--color-tertiary-glow); }
        .placeholder p { margin-top: 15px; color: var(--color-secondary-glow); }
    </style>
</head>
<body>
    <button id="music-toggle-btn" title="Activer/Désactiver la musique"></button>
    <div class="background-grid"></div>
    <header><h1 class="glitch" data-text="JEU DE VOITURE">JEU DE VOITURE</h1></header>
    <main>
        <div class="game-container">
            <canvas id="carGameCanvas" width="500" height="600"></canvas>
            <div class="placeholder">
                <h2>Bientôt sur la piste !</h2>
                <p>Le développement de ce jeu est en cours...</p>
            </div>
        </div>
        <a href="index.html" class="back-button">&lt; RETOUR</a>
    </main>

    <script>
        // ... Bloc audio global ...
        const musicPlayer = new Audio('sounds/ambiance.mp3'); musicPlayer.loop = true; musicPlayer.volume = 0.3;
        window.addEventListener('beforeunload', () => { if (!musicPlayer.paused) localStorage.setItem('musicCurrentTime', musicPlayer.currentTime); });
        function playSound(src, volume = 1.0) { const audio = new Audio(src); audio.volume = volume; audio.play(); }
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('button, a.back-button').forEach(elem => { if (elem.id !== 'music-toggle-btn') elem.addEventListener('click', () => playSound('sounds/click.mp3')); });
            const musicBtn = document.getElementById('music-toggle-btn');
            const syncMusicState = () => { if (localStorage.getItem('musicState') === 'playing') { const savedTime = parseFloat(localStorage.getItem('musicCurrentTime') || '0'); musicPlayer.currentTime = savedTime; musicPlayer.play().catch(e => {}); musicBtn.classList.add('playing'); } else { musicPlayer.pause(); musicBtn.classList.remove('playing'); } };
            musicBtn.addEventListener('click', () => { if (musicPlayer.paused) localStorage.setItem('musicState', 'playing'); else { localStorage.setItem('musicState', 'paused'); localStorage.removeItem('musicCurrentTime'); } syncMusicState(); });
            syncMusicState();
        });

        // --- Logique du jeu de voiture à venir ---
        const canvas = document.getElementById('carGameCanvas');
        const ctx = canvas.getContext('2d');
        
        // Dessin d'un fond temporaire
        ctx.fillStyle = '#111';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
    </script>
</body>
</html>